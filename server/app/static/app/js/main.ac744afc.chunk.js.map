{"version":3,"sources":["Nav/Nav.js","Screen/Screen.js","Portal/Portal.js","constants.js","util.js","Contact/ContactInfo.js","Images/ImageDetail.js","Images/Images.js","Share/Share.js","Students/StudentDetail.js","Students/Students.js","Shoots/Settings/Settings.js","Shoots/ShootDetail.js","Shoots/Shoots.js","Branding/Branding.js","Main/Main.js","Login/Login.js","App/App.js","index.js"],"names":["Nav","react_default","a","createElement","react","Component","Screen","props","_props$children","Object","slicedToArray","children","nav","body","className","Portal","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","div","document","plain","window","root","appendChild","removeChild","ReactDOM","createPortal","SaveState","INITIAL","SAVING","SAVED","ERROR","SaveStateLabel","getBaseUrl","axios","defaults","baseURL","replace","getFilename","img","file","tokens","split","length","fixPrefix","url","prefix","path","concat","ContactInfo","state","firstName","lastName","email","phone","saveState","fetchInfo","_callee","res","regenerator_default","wrap","_context","prev","next","get","getUrl","sent","setState","data","stop","_this$props","shoot","student","id","submit","trim","asyncToGenerator","mark","_callee2","_context2","post","setTimeout","location","reload","t0","prevProps","_this2","_this$state","onSubmit","e","preventDefault","type","value","onChange","target","disabled","onClick","ImageDetail","onKeyDown","image","addEventListener","removeEventListener","_match$params","match","params","shootId","studentId","src_Portal_Portal","Screen_Screen","Link","to","name","src","Images","files","i","saveNext","_ref2","saveFile","apply","arguments","history","go","_callee3","_this$props2","formData","_context3","FormData","append","_this$props3","images","index","indexOf","code","newImage","push","_this$props4","Switch","Route","exact","render","map","key","moment","updatedAt","fromNow","toConsumableArray","multiple","src_Images_ImageDetail","assign","find","Number","imageId","Share","expiresAt","showCalendar","style","fetchShareInfo","_res$data","Date","toggleCalendar","rect","_expiresAtNode","getBoundingClientRect","position","top","bottom","left","onBackdropClick","currentTarget","readOnly","ref","node","format","entry_default","sendShareNotification","StudentDetail","fetchImages","results","NavLink","src_Contact_ContactInfo","src_Images_Images","src_Share_Share","Redirect","Students","students","s","autoFocus","Students_StudentDetail","Settings","JSON","stringify","ShootDetail","fetchStudents","put","Shoots_Settings_Settings","src_Students_Students","Shoots","shoots","src_Shoots_ShootDetail","Branding","companyName","logoFile","logoUrl","watermarkFile","watermarkUrl","nextState","_this$state2","logoInput","watermarkInput","baseUrl","Main","src_Shoots_Shoots","src_Branding_Branding","Login","password","msg","stopPropagation","success","Error","placeholder","autoCapitalize","App","loading","loggedIn","user","token","__user","headers","common","BrowserRouter","src_Nav_Nav","src_Main_Main","src_Login_Login","src_App_App","getElementById"],"mappings":"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","file":"static/js/main.ac744afc.chunk.js","sourcesContent":["import './Nav.scss'\n\nimport React, { Component, Fragment } from 'react'\n\nclass Nav extends Component {\n  render() {\n    return (\n      <Fragment>\n        <h3>Home</h3>\n        <div>...</div>\n      </Fragment>\n    )\n  }\n}\n\nexport default Nav\n","import './Screen.scss'\n\nimport React from 'react'\n\nexport default function Screen(props) {\n  const [nav, body] = props.children\n  return (\n    <div className=\"Screen\">\n      <div className=\"nav\">{nav}</div>\n      <div className=\"body\">{body}</div>\n    </div>\n  )\n}\n","import './Portal.scss'\n\nimport { Component } from 'react'\nimport ReactDOM from 'react-dom'\n\nclass Portal extends Component {\n  constructor(props) {\n    super(props)\n    this.div = document.createElement('div')\n    this.div.className = 'Portal'\n    if (props.plain) {\n      this.div.className = 'Portal plain'\n    }\n  }\n\n  componentDidMount() {\n    window.root.appendChild(this.div)\n  }\n\n  componentWillUnmount() {\n    window.root.removeChild(this.div)\n  }\n\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.div)\n  }\n}\n\nexport default Portal\n","export const SaveState = {\n  INITIAL: 'INITIAL',\n  SAVING: 'SAVING',\n  SAVED: 'SAVED',\n  ERROR: 'ERROR'\n}\n\nexport const SaveStateLabel = {\n  INITIAL: 'Save',\n  SAVING: 'Saving...',\n  SAVED: 'Saved',\n  ERROR: 'Error'\n}\n","import axios from 'axios'\nexport function getBaseUrl() {\n  return axios.defaults.baseURL.replace('/api', '')\n}\n\nexport function getFilename(img) {\n  if (!img.file) {\n    return ''\n  }\n  const tokens = img.file.split('/')\n  const len = tokens.length\n  return tokens[len - 1]\n}\n\nexport function fixPrefix(url) {\n  if (!url) {\n    return ''\n  }\n  const tokens = url.split('/uploads/')\n  const prefix = getBaseUrl()\n  const path = tokens[1]\n  return `${prefix}/uploads/${path}`\n}\n","import './ContactInfo.scss'\n\nimport React, { Component } from 'react'\nimport axios from 'axios'\nimport { SaveState, SaveStateLabel } from '../constants'\nimport { getBaseUrl } from '../util'\n\nclass ContactInfo extends Component {\n  state = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    saveState: SaveState.INITIAL\n  }\n\n  async componentDidMount() {\n    if (this.props.shoot && this.props.student) {\n      this.fetchInfo()\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if ((!prevProps.shoot || !prevProps.student) && (this.props.shoot && this.props.student)) {\n      this.fetchInfo()\n    }\n  }\n\n  fetchInfo = async () => {\n    const res = await axios.get(this.getUrl())\n    this.setState(res.data)\n  }\n\n  getUrl = () => {\n    const { shoot, student } = this.props\n    return `/shoots/${shoot.id}/students/${student.id}/`\n  }\n\n  submit = () => {\n    const firstName = this.state.firstName.trim()\n    const lastName = this.state.lastName.trim()\n    const email = this.state.email.trim()\n    const phone = this.state.phone.trim()\n\n    this.setState({ saveState: SaveState.SAVING }, async () => {\n      try {\n        await axios.post(this.getUrl(), { firstName, lastName, email, phone })\n        this.setState({ saveState: SaveState.SAVED })\n        setTimeout(() => window.location.reload(), 500)\n      } catch (err) {\n        this.setState({ saveState: SaveState.ERROR })\n        setTimeout(() => {\n          this.setState({ saveState: SaveState.INITIAL })\n        }, 2000)\n      }\n    })\n  }\n\n  render() {\n    const { firstName, lastName, email, phone, saveState } = this.state\n\n    return (\n      <div className=\"ContactInfo content-wrapper\">\n        <div className=\"content\">\n          <form onSubmit={e => e.preventDefault()}>\n            <div className=\"formfield\">\n              <label>First Name:</label>\n              <input\n                type=\"text\"\n                value={firstName}\n                onChange={e => this.setState({ firstName: e.target.value })}\n              />\n            </div>\n            <div className=\"formfield\">\n              <label>Last Name:</label>\n              <input\n                type=\"text\"\n                value={lastName}\n                onChange={e => this.setState({ lastName: e.target.value })}\n              />\n            </div>\n            <div className=\"formfield\">\n              <label>Email:</label>\n              <input\n                type=\"text\"\n                value={email}\n                onChange={e => this.setState({ email: e.target.value })}\n              />\n            </div>\n            <div className=\"formfield\">\n              <label>Phone number:</label>\n              <input\n                type=\"text\"\n                value={phone}\n                onChange={e => this.setState({ phone: e.target.value })}\n              />\n            </div>\n            <div>\n              <button\n                disabled={saveState === SaveState.SAVING || !firstName.trim()}\n                onClick={this.submit}\n              >\n                {SaveStateLabel[saveState]}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ContactInfo\n","import './ImageDetail.scss'\n\nimport React, { Component, Fragment } from 'react'\nimport { Link } from 'react-router-dom'\nimport Screen from '../Screen/Screen'\nimport Portal from '../Portal/Portal'\nimport { getFilename, fixPrefix } from '../util'\n\nclass ImageDetail extends Component {\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown)\n  }\n\n  onKeyDown = e => {\n    this.props.onKeyDown(e, this.props.image)\n  }\n\n  render() {\n    const { shoot, student, image, match } = this.props\n    const { shootId, studentId } = match.params\n\n    if (!(shoot && student && image)) {\n      return 'Loading...'\n    }\n\n    return (\n      <Portal>\n        <Screen>\n          <Fragment>\n            <div className=\"flex-row align-center\">\n              <h3>\n                <Link className=\"muted\" to=\"/\">\n                  Home\n                </Link>\n                <span>/</span>\n                <Link className=\"muted\" to={`/shoots/${shootId}/students`}>\n                  {shoot.name}\n                </Link>\n                <span>/</span>\n                <Link className=\"muted\" to={`/shoots/${shootId}/students/${studentId}/images`}>\n                  {student.firstName} {student.lastName}\n                </Link>\n                <span>/</span>\n                {getFilename(image)}\n              </h3>\n            </div>\n          </Fragment>\n          <Fragment>\n            <div className=\"ImageDetail content\">\n              <img src={fixPrefix(image.file)} />\n            </div>\n          </Fragment>\n        </Screen>\n      </Portal>\n    )\n  }\n}\n\nexport default ImageDetail\n","import './Images.scss'\n\nimport React, { Component, Fragment } from 'react'\nimport { Route, Switch, Link } from 'react-router-dom'\nimport axios from 'axios'\nimport moment from 'moment'\nimport ImageDetail from './ImageDetail'\nimport { SaveState } from '../constants'\nimport { getFilename, fixPrefix } from '../util'\n\nclass Images extends Component {\n  state = {\n    files: []\n  }\n\n  submit = () => {\n    const { shoot, student } = this.props\n    const { files } = this.state\n\n    this.setState({ saveState: SaveState.SAVING }, async () => {\n      try {\n        let i = 0\n        const saveNext = async () => {\n          const file = files[i]\n          if (file) {\n            await this.saveFile(file)\n            i++\n            await saveNext()\n          }\n        }\n\n        await saveNext()\n        this.setState({ saveState: SaveState.SAVED })\n        this.props.history.go(-1)\n        setTimeout(() => {\n          window.location.reload()\n        }, 500)\n      } catch (err) {\n        this.setState({ saveState: SaveState.ERROR })\n        setTimeout(() => {\n          this.setState({ saveState: SaveState.INITIAL })\n        }, 2000)\n      }\n    })\n  }\n\n  saveFile = async (file: File) => {\n    const { shoot, student } = this.props\n    const formData = new FormData()\n    formData.append('file', file)\n    await axios.post(`/shoots/${shoot.id}/students/${student.id}/images/`, formData)\n  }\n\n  onKeyDown = (e: KeyboardEvent, image) => {\n    const { images, history, match } = this.props\n    let index = images.indexOf(image)\n    if (e.code === 'ArrowLeft') {\n      index--\n      if (index < 0) {\n        index = images.length - 1\n      }\n    } else if (e.code === 'ArrowRight') {\n      index++\n      if (index > images.length - 1) {\n        index = 0\n      }\n    } else {\n      return\n    }\n    const newImage = images[index]\n    history.push(`${match.url}/${newImage.id}`)\n  }\n\n  render() {\n    const { shoot, student, images, match } = this.props\n    const { files } = this.state\n\n    return (\n      <div className=\"Images content-wrapper\">\n        <Switch>\n          <Route\n            exact\n            path={match.path}\n            render={() => (\n              <Fragment>\n                <div className=\"header\">\n                  <Link to={`${match.url}/new`} className=\"btn\">\n                    New\n                  </Link>\n                </div>\n                <div className=\"content images\">\n                  {images.map(img => (\n                    <Link key={img.id} className=\"image\" to={`${match.url}/${img.id}`}>\n                      <img src={fixPrefix(img.file)} />\n                      <div className=\"info\">\n                        <div className=\"name\">{getFilename(img)}</div>\n                        <div className=\"date\">{moment(img.updatedAt).fromNow()}</div>\n                      </div>\n                    </Link>\n                  ))}\n                </div>\n              </Fragment>\n            )}\n          />\n          <Route\n            exact\n            path={`${match.path}/new`}\n            render={() => (\n              <Fragment key=\"new\">\n                <div className=\"header\">\n                  <Link className=\"muted\" to={match.url}>\n                    ‹ Back\n                  </Link>\n                </div>\n                <div className=\"content\">\n                  <form onSubmit={e => e.preventDefault()}>\n                    <div className=\"formfield\">\n                      <label>File:</label>\n                      <input\n                        type=\"file\"\n                        onChange={e => this.setState({ files: [...e.target.files] })}\n                        multiple\n                      />\n                    </div>\n                    <div>\n                      <button disabled={!files.length} onClick={this.submit}>\n                        Save\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </Fragment>\n            )}\n          />\n          <Route\n            path={`${match.path}/:imageId`}\n            render={props => (\n              <ImageDetail\n                {...props}\n                shoot={shoot}\n                student={student}\n                image={images.find(img => img.id === Number(props.match.params.imageId))}\n                onKeyDown={this.onKeyDown}\n              />\n            )}\n          />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default Images\n","import './Share.scss'\n\nimport React, { Component } from 'react'\nimport Calendar from 'react-calendar'\nimport axios from 'axios'\nimport { SaveState, SaveStateLabel } from '../constants'\nimport moment from 'moment'\nimport Portal from '../Portal/Portal'\n\nclass Share extends Component {\n  state = {\n    url: '',\n    expiresAt: '',\n    saveState: SaveState.INITIAL,\n    showCalendar: false,\n    style: {}\n  }\n\n  componentDidMount() {\n    const { student, shoot } = this.props\n    if (shoot && student) {\n      this.fetchShareInfo()\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if ((!prevProps.shoot || !prevProps.student) && (this.props.shoot && this.props.student)) {\n      this.fetchShareInfo()\n    }\n  }\n\n  getUrl = () => {\n    const { shoot, student } = this.props\n    return `/shoots/${shoot.id}/students/${student.id}/share/`\n  }\n\n  fetchShareInfo = async () => {\n    const res = await axios.get(this.getUrl())\n    const { url, expiresAt } = res.data\n    this.setState({\n      url,\n      expiresAt: new Date(expiresAt)\n    })\n  }\n\n  submit = () => {\n    const { expiresAt } = this.state\n    this.setState({ saveState: SaveState.SAVING }, async () => {\n      try {\n        await axios.post(this.getUrl(), { expiresAt })\n        this.setState({ saveState: SaveState.SAVED })\n        setTimeout(() => window.location.reload(), 500)\n      } catch (err) {\n        this.setState({ saveState: SaveState.ERROR })\n        setTimeout(() => {\n          this.setState({ saveState: SaveState.INITIAL })\n        }, 2000)\n      }\n    })\n  }\n\n  toggleCalendar = () => {\n    const rect = this._expiresAtNode.getBoundingClientRect()\n    this.setState({\n      showCalendar: !this.state.showCalendar,\n      style: { position: 'absolute', top: rect.bottom, left: rect.left }\n    })\n  }\n\n  onBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.setState({ showCalendar: false })\n    }\n  }\n\n  render() {\n    const { url, expiresAt, saveState, showCalendar, style } = this.state\n    if (!url) {\n      return 'Loading...'\n    }\n\n    return (\n      <div className=\"Share content-wrapper\">\n        <div className=\"content\">\n          <form onSubmit={e => e.preventDefault()}>\n            <div className=\"formfield\">\n              <label>Share URL:</label>\n              <input type=\"text\" value={url} readOnly />\n            </div>\n            <div className=\"formfield\">\n              <label>Expires At:</label>\n              <input\n                ref={node => (this._expiresAtNode = node)}\n                type=\"text\"\n                value={moment(expiresAt).format('M/D/Y')}\n                readOnly\n                onClick={this.toggleCalendar}\n              />\n              {showCalendar ? (\n                <Portal plain>\n                  <div className=\"backdrop\" onClick={this.onBackdropClick}>\n                    <div style={style}>\n                      <Calendar\n                        value={expiresAt}\n                        onChange={expiresAt => this.setState({ expiresAt, showCalendar: false })}\n                      />\n                    </div>\n                  </div>\n                </Portal>\n              ) : null}\n            </div>\n            <div className=\"buttons\">\n              <button disabled={saveState === SaveState.SAVING || !expiresAt} onClick={this.submit}>\n                {SaveStateLabel[saveState]}\n              </button>\n              <button onClick={this.sendShareNotification}>Send Invitation Email</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Share\n","import React, { Component, Fragment } from 'react'\nimport { Route, Switch, Link, NavLink, Redirect } from 'react-router-dom'\nimport axios from 'axios'\nimport Screen from '../Screen/Screen'\nimport Portal from '../Portal/Portal'\nimport ContactInfo from '../Contact/ContactInfo'\nimport Images from '../Images/Images'\nimport Share from '../Share/Share'\n\nclass StudentDetail extends Component {\n  state = {\n    images: []\n  }\n\n  componentDidMount() {\n    const { student, shoot } = this.props\n    if (shoot && student) {\n      this.fetchImages()\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if ((!prevProps.shoot || !prevProps.student) && (this.props.shoot && this.props.student)) {\n      this.fetchImages()\n    }\n  }\n\n  fetchImages = async () => {\n    const { shoot, student } = this.props\n    const res = await axios.get(`/shoots/${shoot.id}/students/${student.id}/images/`)\n    this.setState({ images: res.data.results })\n  }\n\n  render() {\n    const { shoot, student, match } = this.props\n    const { images } = this.state\n\n    if (!(shoot && student)) {\n      return 'Loading...'\n    }\n\n    return (\n      <Portal>\n        <Screen>\n          <Fragment>\n            <div className=\"flex-row align-center\">\n              <h3>\n                <Link className=\"muted\" to=\"/\">\n                  Home\n                </Link>\n                <span>/</span>\n                <Link className=\"muted\" to={`/shoots/${shoot.id}/students`}>\n                  {shoot.name}\n                </Link>\n                <span>/</span>\n                {student.firstName} {student.lastName}\n              </h3>\n            </div>\n          </Fragment>\n          <Fragment>\n            <div className=\"sidebar students\">\n              <NavLink to={`${match.url}/info`}>Info</NavLink>\n              <NavLink to={`${match.url}/images`}>Images</NavLink>\n              <NavLink to={`${match.url}/share`}>Share</NavLink>\n            </div>\n            <div className=\"content\">\n              <Switch>\n                <Route\n                  path={`${match.path}/info`}\n                  render={props => <ContactInfo {...props} shoot={shoot} student={student} />}\n                />\n                <Route\n                  path={`${match.path}/images`}\n                  render={props => (\n                    <Images {...props} shoot={shoot} student={student} images={images} />\n                  )}\n                />\n                <Route\n                  path={`${match.path}/share`}\n                  render={props => <Share {...props} shoot={shoot} student={student} />}\n                />\n                <Route\n                  exact\n                  path={match.path}\n                  render={() => <Redirect to={`${match.url}/info`} />}\n                />\n              </Switch>\n            </div>\n          </Fragment>\n        </Screen>\n      </Portal>\n    )\n  }\n}\n\nexport default StudentDetail\n","import './Students.scss'\n\nimport React, { Component, Fragment } from 'react'\nimport { Route, Switch, Link } from 'react-router-dom'\nimport axios from 'axios'\nimport moment from 'moment'\nimport StudentDetail from './StudentDetail'\n\nclass Students extends Component {\n  state = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: ''\n  }\n\n  submit = async () => {\n    const { shoot, match } = this.props\n    const firstName = this.state.firstName.trim()\n    const lastName = this.state.lastName.trim()\n    const email = this.state.email.trim()\n    const phone = this.state.phone.trim()\n    const res = await axios.post(`/shoots/${shoot.id}/students/`, {\n      firstName,\n      lastName,\n      email,\n      phone\n    })\n\n    this.props.history.push(`${match.url}/${res.data.id}`)\n    setTimeout(() => window.location.reload(), 100)\n  }\n\n  render() {\n    const { shoot, students, match } = this.props\n    const { firstName, lastName, email, phone } = this.state\n\n    return (\n      <div className=\"Students content-wrapper\">\n        <Switch>\n          <Route\n            exact\n            path={match.path}\n            render={() => (\n              <Fragment>\n                <div className=\"header\">\n                  <Link to={`${match.url}/new`} className=\"btn\">\n                    New\n                  </Link>\n                </div>\n                <div className=\"content list\">\n                  {students.map(s => (\n                    <Link key={s.id} className=\"item\" to={`${match.url}/${s.id}`}>\n                      <span className=\"name\">{`${s.firstName} ${s.lastName}`}</span>\n                      <span className=\"info\">{moment(s.updatedAt).fromNow()}</span>\n                    </Link>\n                  ))}\n                </div>\n              </Fragment>\n            )}\n          />\n          <Route\n            exact\n            path={`${match.path}/new`}\n            render={() => (\n              <Fragment key=\"new\">\n                <div className=\"header\">\n                  <Link className=\"muted\" to={match.url}>\n                    ‹ Back\n                  </Link>\n                </div>\n                <div className=\"content\">\n                  <form onSubmit={e => e.preventDefault()}>\n                    <div className=\"formfield\">\n                      <label>First Name:</label>\n                      <input\n                        type=\"text\"\n                        value={firstName}\n                        onChange={e => this.setState({ firstName: e.target.value })}\n                        autoFocus\n                      />\n                    </div>\n                    <div className=\"formfield\">\n                      <label>Last Name:</label>\n                      <input\n                        type=\"text\"\n                        value={lastName}\n                        onChange={e => this.setState({ lastName: e.target.value })}\n                      />\n                    </div>\n                    <div className=\"formfield\">\n                      <label>Email:</label>\n                      <input\n                        type=\"text\"\n                        value={email}\n                        onChange={e => this.setState({ email: e.target.value })}\n                      />\n                    </div>\n                    <div className=\"formfield\">\n                      <label>Phone:</label>\n                      <input\n                        type=\"text\"\n                        value={phone}\n                        onChange={e => this.setState({ phone: e.target.value })}\n                      />\n                    </div>\n                    <div>\n                      <button\n                        disabled={\n                          !firstName.trim() || !lastName.trim() || !(email.trim() || phone.trim())\n                        }\n                        onClick={this.submit}\n                      >\n                        Save\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </Fragment>\n            )}\n          />\n          <Route\n            path={`${match.path}/:studentId`}\n            render={props => (\n              <StudentDetail\n                {...props}\n                shoot={shoot}\n                student={students.find(s => s.id === Number(props.match.params.studentId))}\n              />\n            )}\n          />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default Students\n","import './Settings.scss'\n\nimport React, { Component } from 'react'\n\nclass Settings extends Component {\n  render() {\n    return <div className=\"Settings\">Settings: {JSON.stringify(this.props.shoot)}</div>\n  }\n}\n\nexport default Settings\n","import './ShootDetail.scss'\n\nimport React, { Component, Fragment } from 'react'\nimport { Route, Switch, Link, NavLink, Redirect } from 'react-router-dom'\nimport axios from 'axios'\nimport Screen from '../Screen/Screen'\nimport Portal from '../Portal/Portal'\nimport Students from '../Students/Students'\nimport Settings from './Settings/Settings'\n\nclass ShootDetail extends Component {\n  state = {\n    students: []\n  }\n\n  componentDidMount() {\n    if (this.props.shoot) {\n      this.fetchStudents()\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!prevProps.shoot && this.props.shoot) {\n      this.fetchStudents()\n    }\n  }\n\n  fetchStudents = async () => {\n    const { id } = this.props.shoot\n    const res = await axios.get(`/shoots/${id}/students/`)\n    this.setState({ students: res.data.results })\n  }\n\n  submit = async () => {\n    const { shoot } = this.props\n    const name = this.state.value.trim()\n    await axios.put(`/shoots/${shoot.id}`, { name })\n  }\n\n  render() {\n    const { shoot, match } = this.props\n    const { students } = this.state\n\n    if (!shoot) {\n      return 'Loading...'\n    }\n\n    return (\n      <Portal>\n        <Screen>\n          <Fragment>\n            <div className=\"flex-row align-center\">\n              <h3>\n                <Link className=\"muted\" to=\"/shoots\">\n                  Home\n                </Link>\n                <span>/</span>\n                {shoot.name}\n              </h3>\n            </div>\n          </Fragment>\n          <Fragment>\n            <div className=\"sidebar students\">\n              <NavLink to={`${match.url}/settings`}>Settings</NavLink>\n              <NavLink to={`${match.url}/students`}>Students</NavLink>\n            </div>\n            <div className=\"content\">\n              <Switch>\n                <Route\n                  path={`${match.path}/settings`}\n                  render={props => <Settings {...props} shoot={shoot} />}\n                />\n                <Route\n                  path={`${match.path}/students`}\n                  render={props => <Students {...props} shoot={shoot} students={students} />}\n                />\n                <Route\n                  exact\n                  path={match.path}\n                  render={() => <Redirect to={`${match.url}/settings`} />}\n                />\n              </Switch>\n            </div>\n          </Fragment>\n        </Screen>\n      </Portal>\n    )\n  }\n}\n\nexport default ShootDetail\n","import './Shoots.scss'\n\nimport React, { Component, Fragment } from 'react'\nimport { Link, Switch, Route } from 'react-router-dom'\nimport axios from 'axios'\nimport moment from 'moment'\nimport ShootDetail from './ShootDetail'\n\nclass Shoots extends Component {\n  state = {\n    value: ''\n  }\n\n  submit = async () => {\n    const name = this.state.value.trim()\n    const res = await axios.post('/shoots/', { name })\n    this.props.history.push(`/shoots/${res.data.id}`)\n    setTimeout(() => window.location.reload(), 100)\n  }\n\n  render() {\n    const { shoots, match } = this.props\n    return (\n      <div className=\"Shoots content-wrapper\">\n        <Switch>\n          <Route\n            exact\n            path=\"/shoots\"\n            render={() => (\n              <Fragment>\n                <div className=\"header\">\n                  <Link to={`${match.url}/new`} className=\"btn\">\n                    New\n                  </Link>\n                </div>\n                <div className=\"content list\">\n                  {shoots.map(shoot => (\n                    <Link key={shoot.id} className=\"item\" to={`${match.url}/${shoot.id}`}>\n                      <span className=\"name\">{shoot.name}</span>\n                      <span className=\"info\">{moment(shoot.updatedAt).fromNow()}</span>\n                    </Link>\n                  ))}\n                </div>\n              </Fragment>\n            )}\n          />\n          <Route\n            exact\n            path=\"/shoots/new\"\n            render={() => (\n              <Fragment key=\"new\">\n                <div className=\"header\">\n                  <Link className=\"muted\" to={match.url}>\n                    ‹ Back\n                  </Link>\n                </div>\n                <div className=\"content\">\n                  <form onSubmit={e => e.preventDefault()}>\n                    <div className=\"formfield\">\n                      <label>Name:</label>\n                      <input\n                        type=\"text\"\n                        value={this.state.value}\n                        onChange={e => this.setState({ value: e.target.value })}\n                        autoFocus\n                      />\n                      <button disabled={!this.state.value.trim()} onClick={this.submit}>\n                        Save\n                      </button>\n                    </div>\n                  </form>\n                </div>\n              </Fragment>\n            )}\n          />\n          <Route\n            path={`${match.path}/:shootId`}\n            render={props => (\n              <ShootDetail\n                {...props}\n                shoot={shoots.find(s => s.id === Number(props.match.params.shootId))}\n              />\n            )}\n          />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default Shoots\n","import './Branding.scss'\n\nimport React, { Component } from 'react'\nimport axios from 'axios'\nimport { SaveState, SaveStateLabel } from '../constants'\nimport { getBaseUrl } from '../util'\n\nclass Branding extends Component {\n  state = {\n    companyName: '',\n    logoFile: '',\n    logoUrl: '',\n    watermarkFile: '',\n    watermarkUrl: '',\n    saveState: SaveState.INITIAL\n  }\n\n  async componentDidMount() {\n    const res = await axios.get('/user/branding/')\n    const { companyName, logoFile, watermarkFile } = res.data\n    const nextState = {}\n    if (companyName) {\n      nextState.companyName = companyName\n    }\n    if (logoFile) {\n      nextState.logoUrl = logoFile\n    }\n    if (watermarkFile) {\n      nextState.watermarkUrl = watermarkFile\n    }\n    this.setState(nextState)\n  }\n\n  submit = () => {\n    const companyName = this.state.companyName.trim()\n    const { logoFile, watermarkFile } = this.state\n    this.setState({ saveState: SaveState.SAVING }, async () => {\n      try {\n        const formData = new FormData()\n        if (companyName) formData.append('companyName', companyName)\n        if (logoFile) formData.append('logoFile', logoFile)\n        if (watermarkFile) formData.append('watermarkFile', watermarkFile)\n\n        await axios.post('/user/branding/', formData)\n        this.setState({ saveState: SaveState.SAVED })\n        setTimeout(() => window.location.reload(), 500)\n      } catch (err) {\n        this.setState({ saveState: SaveState.ERROR })\n        setTimeout(() => {\n          this.setState({ saveState: SaveState.INITIAL })\n        }, 2000)\n      }\n    })\n  }\n\n  render() {\n    const { companyName, logoUrl, watermarkUrl, saveState } = this.state\n    const logoInput = (\n      <input type=\"file\" onChange={e => this.setState({ logoFile: e.target.files[0] })} />\n    )\n    const watermarkInput = (\n      <input type=\"file\" onChange={e => this.setState({ watermarkFile: e.target.files[0] })} />\n    )\n\n    const baseUrl = getBaseUrl()\n\n    return (\n      <div className=\"Branding content-wrapper\">\n        <div className=\"content\">\n          <form onSubmit={e => e.preventDefault()}>\n            <div className=\"formfield\">\n              <label>Company Name:</label>\n              <input\n                type=\"text\"\n                value={companyName}\n                onChange={e => this.setState({ companyName: e.target.value })}\n              />\n            </div>\n            <div className=\"formfield\">\n              <label>Logo:</label>\n              {logoUrl ? (\n                <div>\n                  <img src={`${baseUrl}/${logoUrl}`} />\n                  {logoInput}\n                </div>\n              ) : (\n                logoInput\n              )}\n            </div>\n            <div className=\"formfield\">\n              <label>Watermark:</label>\n              {watermarkUrl ? (\n                <div>\n                  <img src={`${baseUrl}/${watermarkUrl}`} />\n                  {watermarkInput}\n                </div>\n              ) : (\n                watermarkInput\n              )}\n            </div>\n            <div>\n              <button\n                disabled={saveState === SaveState.SAVING || !companyName.trim()}\n                onClick={this.submit}\n              >\n                {SaveStateLabel[saveState]}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Branding\n","import './Main.scss'\n\nimport React, { Component, Fragment } from 'react'\nimport { Route, Switch, NavLink } from 'react-router-dom'\nimport axios from 'axios'\nimport Shoots from '../Shoots/Shoots'\nimport Branding from '../Branding/Branding'\n\nclass Main extends Component {\n  state = {\n    shoots: []\n  }\n\n  async componentDidMount() {\n    const res = await axios.get('/shoots/')\n\n    this.setState({\n      shoots: res.data.results\n    })\n  }\n\n  render() {\n    const { shoots } = this.state\n    return (\n      <Fragment>\n        <div className=\"sidebar\">\n          <NavLink to=\"/shoots\">Shoots</NavLink>\n          <NavLink to=\"/branding\">Branding</NavLink>\n        </div>\n        <div className=\"content\">\n          <Switch>\n            <Route path=\"/shoots\" render={props => <Shoots {...props} shoots={shoots} />} />\n            <Route path=\"/branding\" render={props => <Branding {...props} />} />\n          </Switch>\n        </div>\n      </Fragment>\n    )\n  }\n}\n\nexport default Main\n","import './Login.scss'\n\nimport React, { Component } from 'react'\nimport axios from 'axios'\n\nclass Login extends Component {\n  state = {\n    email: '',\n    password: '',\n    msg: null\n  }\n\n  submit = async (e: Event) => {\n    try {\n      this.setState({ msg: null })\n      e.preventDefault()\n      e.stopPropagation()\n      const { email, password } = this.state\n      const res = await axios.post('/login/', { email, password })\n      if (!res.data.success) {\n        throw new Error('Invalid')\n      }\n      window.location.reload()\n    } catch (err) {\n      this.setState({ msg: 'Invalid email/password.' })\n    }\n  }\n\n  render() {\n    const { email, password, msg } = this.state\n\n    return (\n      <div className=\"Login\">\n        <div className=\"form-wrapper\">\n          <form onSubmit={this.submit}>\n            <h3>Login</h3>\n            {msg ? <p>{msg}</p> : null}\n            <div className=\"formfield\">\n              <input\n                type=\"text\"\n                placeholder=\"Email\"\n                value={email}\n                onChange={e => this.setState({ email: e.target.value })}\n                autoCapitalize=\"off\"\n                autoFocus\n              />\n            </div>\n            <div className=\"formfield\">\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={e => this.setState({ password: e.target.value })}\n                autoCapitalize=\"off\"\n              />\n            </div>\n            <button onClick={this.submit}>Submit</button>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Login\n","import './App.scss'\n\nimport React, { Component } from 'react'\nimport { BrowserRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport Nav from '../Nav/Nav'\nimport Main from '../Main/Main'\nimport Login from '../Login/Login'\nimport Screen from '../Screen/Screen'\n\nclass App extends Component {\n  state = {\n    loading: true,\n    loggedIn: false,\n    user: null\n  }\n\n  async componentDidMount() {\n    const res = await axios.get('/session/')\n    const { success, user, token } = res.data\n    if (success) {\n      window.__user = user\n      axios.defaults.headers.common['X-CSRFToken'] = token\n    }\n    this.setState({ loggedIn: success, user, loading: false })\n  }\n\n  render() {\n    const { loggedIn, user, loading } = this.state\n\n    return (\n      <BrowserRouter>\n        <div className=\"App\">\n          {loading ? (\n            'Loading...'\n          ) : !loggedIn ? (\n            <Login />\n          ) : (\n            <Screen>\n              <Nav user={user} />\n              <Main />\n            </Screen>\n          )}\n        </div>\n      </BrowserRouter>\n    )\n  }\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport axios from 'axios'\nimport App from './App/App'\n\nimport './index.scss'\n\nif (process.env.NODE_ENV === 'development') {\n  axios.defaults.baseURL = 'http://localhost:8000/api'\n  axios.defaults.withCredentials = true\n} else {\n  axios.defaults.baseURL = '/api'\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}